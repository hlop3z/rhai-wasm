<!DOCTYPE html>
<html>
<head>
    <title>Rhai WASM Test</title>
</head>
<body>
    <h1>Rhai WASM Test</h1>
    <div id="output"></div>
    
    <script type="module">
        import { runRhai } from './dist/rhai-wasm.js';
        
        const output = document.getElementById('output');
        
        async function runTests() {
            try {
                // Test 1: Simple script without JSON input
                console.log('Test 1 - Simple script:');
                const result1 = await runRhai('1 + 2');
                console.log(result1);
                output.innerHTML += '<p>Test 1: ' + result1 + '</p>';
                
                // Test 2: Script with JSON input
                console.log('Test 2 - Script with JSON input:');
                const result2 = await runRhai('request.name', JSON.stringify({ name: "John" }));
                console.log(result2);
                output.innerHTML += '<p>Test 2: ' + result2 + '</p>';
                
                // Test 3: Script that should work with the JSON
                console.log('Test 3 - Script that should work:');
                const result3 = await runRhai('request', JSON.stringify({ name: "John", age: 30 }));
                console.log(result3);
                output.innerHTML += '<p>Test 3: ' + result3 + '</p>';
                
            } catch (error) {
                console.error('Error:', error);
                output.innerHTML += '<p>Error: ' + error.message + '</p>';
            }
        }
        
        runTests();
    </script>
</body>
</html>
